<div class="main-container flex column a-center">
    <div class="graph-container flex">
        <app-graph class="cursor" (tableToShow)="tableToShow($event)"></app-graph>
    </div>
    <hr>
    <div class="operation">
        <p class="text-center"><strong>{{ dataSource.length < 1 ? tableErrorMsg : operation | titlecase}}</strong>
        </p>
        <table *ngIf="operation === 'Visa Extension Applications' && dataSource.length > 0" mat-table
            [dataSource]="dataSource">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

            <!-- Position Column -->
            <ng-container matColumnDef="fullName">
                <th mat-header-cell *matHeaderCellDef> Full Names </th>
                <td mat-cell *matCellDef="let element"> {{element.fullName}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="expireDate">
                <th mat-header-cell *matHeaderCellDef> Expire Date </th>
                <td mat-cell *matCellDef="let element"> {{element.expireDate | date}} </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="renewalDate">
                <th mat-header-cell *matHeaderCellDef> Renewal Date </th>
                <td mat-cell *matCellDef="let element"> {{element.renewalDate | date}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="passportNo">
                <th mat-header-cell *matHeaderCellDef> Passport Number </th>
                <td mat-cell *matCellDef="let element"> {{element.passportNo}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="phoneNo">
                <th mat-header-cell *matHeaderCellDef> Phone Number </th>
                <td mat-cell *matCellDef="let element"> {{element.phoneNo}} </td>
            </ng-container>

            <!-- Status Column -->
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-raised-button
                        [color]="element.status === 'accepted' ? 'primary' : 'warn'">{{element.status |
                        titlecase}}</button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="visaExtensionsColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: visaExtensionsColumns;"></tr>
        </table>
        <table *ngIf="operation === 'Visa Applications' && dataSource.length > 0" matSort mat-table
            [dataSource]="dataSource">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

            <!-- Position Column -->
            <ng-container matColumnDef="fullName">
                <th mat-header-cell *matHeaderCellDef> Full Names </th>
                <td mat-cell *matCellDef="let element"> {{element.fullName | titlecase}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="expireDate">
                <th mat-header-cell *matHeaderCellDef> Expire Date </th>
                <td mat-cell *matCellDef="let element"> {{element.expireDate | date}} </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="nationality">
                <th mat-header-cell *matHeaderCellDef> Nationality </th>
                <td mat-cell *matCellDef="let element"> {{element.nationality | titlecase}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="passportNo">
                <th mat-header-cell *matHeaderCellDef> Passport Number </th>
                <td mat-cell *matCellDef="let element"> {{element.passportNo}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="birthCountry">
                <th mat-header-cell *matHeaderCellDef> Birth Country </th>
                <td mat-cell *matCellDef="let element"> {{element.birthCountry}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-raised-button
                        [color]="element.status === 'accepted' ? 'primary' : 'warn'">{{element.status |
                        titlecase}}</button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="visaApplicationsColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: visaApplicationsColumns;"></tr>
        </table>
        <table *ngIf="operation === 'International Travels' && dataSource.length > 0" mat-table
            [dataSource]="dataSource">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

            <!-- Position Column -->
            <ng-container matColumnDef="indianPassport">
                <th mat-header-cell *matHeaderCellDef> Indian Passport Number </th>
                <td mat-cell *matCellDef="let element"> {{element.indianPassport}} </td>
            </ng-container>

            <!-- Email Column -->
            <ng-container matColumnDef="travelDate">
                <th mat-header-cell *matHeaderCellDef> Travel Date </th>
                <td mat-cell *matCellDef="let element"> {{element.confirmedTravelDate | date}} </td>
            </ng-container>

            <!-- Phone Number Column -->
            <ng-container matColumnDef="returnDate">
                <th mat-header-cell *matHeaderCellDef> Return Date </th>
                <td mat-cell *matCellDef="let element"> {{element.confirmedReturnDate | date}} </td>
            </ng-container>

            <!-- Problem Column -->
            <ng-container matColumnDef="visa">
                <th mat-header-cell *matHeaderCellDef> Visa </th>
                <td mat-cell *matCellDef="let element">
                    <button class="full-width" mat-raised-button
                        [color]="element.visaValidity === 'Valid' ? 'primary' : 'warn'">{{element.visaValidity}}</button>
                </td>
            </ng-container>

            <!-- Fixdate Column -->
            <ng-container matColumnDef="projectName">
                <th mat-header-cell *matHeaderCellDef> Project Name </th>
                <td mat-cell *matCellDef="let element"> {{element.projectName}} </td>
            </ng-container>

            <!-- Fixdate Column -->
            <ng-container matColumnDef="travelDays">
                <th mat-header-cell *matHeaderCellDef> Travelling Days</th>
                <td mat-cell *matCellDef="let element"> {{element.travelDays}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-raised-button
                        [color]="element.status === 'accepted' ? 'primary' : 'warn'">{{element.status |
                        titlecase}}</button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="internationalTravelColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: internationalTravelColumns;"></tr>
        </table>
        <table *ngIf="operation === 'Flights Information' && dataSource.length > 0" mat-table [dataSource]="dataSource">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

            <!-- Position Column -->
            <ng-container matColumnDef="arrivalTime">
                <th mat-header-cell *matHeaderCellDef> Flight Arrival </th>
                <td mat-cell *matCellDef="let element"> {{element.arrivalTime}} </td>
            </ng-container>

            <!-- Email Column -->
            <ng-container matColumnDef="airline">
                <th mat-header-cell *matHeaderCellDef> Airline </th>
                <td mat-cell *matCellDef="let element"> {{element.airline | titlecase}} </td>
            </ng-container>

            <!-- Phone Number Column -->
            <ng-container matColumnDef="airport">
                <th mat-header-cell *matHeaderCellDef> Airport </th>
                <td mat-cell *matCellDef="let element"> {{element.airport | titlecase}} </td>
            </ng-container>

            <!-- Problem Column -->
            <ng-container matColumnDef="ticketNo">
                <th mat-header-cell *matHeaderCellDef> Ticket No </th>
                <td mat-cell *matCellDef="let element">{{element.ticketNo}} </td>
            </ng-container>

            <!-- Fixdate Column -->
            <ng-container matColumnDef="phoneNo">
                <th mat-header-cell *matHeaderCellDef> Contact</th>
                <td mat-cell *matCellDef="let element"> {{element.phoneNo}} </td>
            </ng-container>

            <!-- Fixdate Column -->
            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> Email</th>
                <td mat-cell *matCellDef="let element"> {{element.email}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-raised-button
                        [color]="element.status === 'accepted' ? 'primary' : 'warn'">{{element.status |
                        titlecase}}</button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="flightInformationColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: flightInformationColumns;"></tr>
        </table>
        <table *ngIf="operation === 'Domestic Travels' && dataSource.length > 0" mat-table [dataSource]="dataSource">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->

            <!-- Position Column -->
            <ng-container matColumnDef="fullName">
                <th mat-header-cell *matHeaderCellDef> Lastname </th>
                <td mat-cell *matCellDef="let element">
                    <p class="margin-0">{{element.credentials.surname | titlecase}}</p>
                </td>
            </ng-container>

            <!-- Email Column -->
            <ng-container matColumnDef="travelDate">
                <th mat-header-cell *matHeaderCellDef> Travel </th>
                <td mat-cell *matCellDef="let element"> {{element.confirmedTravelDate | date}} </td>
            </ng-container>

            <!-- Phone Number Column -->
            <ng-container matColumnDef="travelTime">
                <th mat-header-cell *matHeaderCellDef> Time </th>
                <td mat-cell *matCellDef="let element"> {{element.preffedTravelTime}} </td>
            </ng-container>

            <!-- Email Column -->
            <ng-container matColumnDef="returnDate">
                <th mat-header-cell *matHeaderCellDef> Return </th>
                <td mat-cell *matCellDef="let element"> {{element.confirmedReturnDate | date}} </td>
            </ng-container>

            <!-- Phone Number Column -->
            <ng-container matColumnDef="returnTime">
                <th mat-header-cell *matHeaderCellDef> Return </th>
                <td mat-cell *matCellDef="let element"> {{element.preffedReturnTime}} </td>
            </ng-container>

            <!-- Problem Column -->
            <ng-container matColumnDef="projectName">
                <th mat-header-cell *matHeaderCellDef> Project Name </th>
                <td mat-cell *matCellDef="let element">{{element.projectName}} </td>
            </ng-container>

            <!-- Fixdate Column -->
            <ng-container matColumnDef="customerName">
                <th mat-header-cell *matHeaderCellDef> Customer Name</th>
                <td mat-cell *matCellDef="let element"> {{element.customerName | titlecase}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-raised-button
                        [color]="element.status === 'accepted' ? 'primary' : 'warn'">{{element.status |
                        titlecase}}</button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="domesticTravelColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: domesticTravelColumns;"></tr>
        </table>
        <table *ngIf="operation === 'Leave Applications' && dataSource.length > 0" mat-table [dataSource]="dataSource"
            matSort>
            <!-- Leave ID -->
            <ng-container matColumnDef="leaveId">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Leave ID </th>
                <td mat-cell *matCellDef="let element"> <b>{{element.id}}</b></td>
            </ng-container>

            <!-- Leave Type -->
            <ng-container matColumnDef="leaveType">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Type of Leave </th>
                <td mat-cell *matCellDef="let element"> {{element.leaveType | titlecase}}</td>
            </ng-container>

            <!-- Leave Start Date -->
            <ng-container matColumnDef="leaveStartDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Leave Start Date </th>
                <td mat-cell *matCellDef="let element"> {{element.dateStartLeave | date}}</td>
            </ng-container>

            <!-- Leave End Date -->
            <ng-container matColumnDef="leaveEndDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Leave End Date </th>
                <td mat-cell *matCellDef="let element"> {{element.dateEndLeave | date}}</td>
            </ng-container>

            <!-- Status Column -->
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-raised-button
                        [color]="element.status === 'accepted' ? 'primary' : 'warn'">{{element.status |
                        titlecase}}</button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="leavesColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: leavesColumns;"></tr>

            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No leave requests made by employees yet</td>
            </tr>
        </table>
        <table *ngIf="operation === 'Guesthouse Services' && dataSource.length > 0" mat-table [dataSource]="dataSource"
            matSort>
            <!-- Leave ID -->
            <ng-container matColumnDef="fullName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Full Name </th>
                <td mat-cell *matCellDef="let element"> <b>{{element.fullName}}</b></td>
            </ng-container>

            <!-- Leave Type -->
            <ng-container matColumnDef="problem">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Guesthouse Problem </th>
                <td mat-cell *matCellDef="let element"> {{element.problem | titlecase}}</td>
            </ng-container>

            <!-- Leave Start Date -->
            <ng-container matColumnDef="phoneNo">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Contact </th>
                <td mat-cell *matCellDef="let element"> {{element.phoneNo}}</td>
            </ng-container>

            <!-- Leave End Date -->
            <ng-container matColumnDef="addressProblemDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Fix Date </th>
                <td mat-cell *matCellDef="let element"> {{element.addressProblemDate | date}}</td>
            </ng-container>

            <!-- Leave End Date -->
            <ng-container matColumnDef="additionalInfo">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Additional Info </th>
                <td mat-cell *matCellDef="let element"> {{element.additionalInfo | titlecase}}</td>
            </ng-container>

            <!-- Status Column -->
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-raised-button
                        [color]="element.status === 'accepted' ? 'primary' : 'warn'">{{element.status |
                        titlecase}}</button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="guesthouseServicesColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: guesthouseServicesColumns;"></tr>

            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No leave requests made by employees yet</td>
            </tr>
        </table>
    </div>
</div>